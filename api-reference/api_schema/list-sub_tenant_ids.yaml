# Endpoint: /tenant/sub_tenant_ids
# Method: GET

"/tenant/sub_tenant_ids":
  get:
    description: Retrieve all sub-tenant IDs contained within a specific tenant. Fetches the sub-tenant IDs directly from the underlying data store.
    # --- Parameters (Headers & Query) ---
    parameters:
    - name: Authorization
      in: header
      required: true
      description: Bearer token (your API key)
      schema:
        type: string
      example: Bearer {API_KEY}
    - name: accept
      in: header
      required: true
      description: Response content type
      schema:
        type: string
        default: application/json
    - name: tenant_id
      in: query
      required: true
      description: The primary tenant ID to fetch sub-tenant IDs for
      schema:
        type: string
      example: acme_corp
    # --- Responses ---
    responses:
      '200':
        description: Sub-tenant IDs retrieved successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                tenant_id:
                  type: string
                  description: The tenant ID that was queried
                  example: acme_corp
                sub_tenant_ids:
                  type: array
                  items:
                    type: string
                  description: Array of all sub-tenant IDs within the tenant
                  example:
                  - default
                  - engineering
                  - sales
                  - marketing
                  - hr
                  - user_12345
                  - user_67890
                  - project_alpha
                count:
                  type: integer
                  description: Total number of sub-tenants found
                  example: 8
                message:
                  type: string
                  description: Success message with additional context
                  example: Successfully retrieved sub-tenant IDs for tenant acme_corp
            example:
              tenant_id: acme_corp
              sub_tenant_ids:
                - default
                - engineering
                - sales
                - marketing
                - hr
                - user_12345
                - user_67890
                - project_alpha
              count: 8
              message: Successfully retrieved sub-tenant IDs for tenant acme_corp
      '401':
        description: Invalid or missing API key
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  example: Unauthorized
                message:
                  type: string
                  example: Invalid or missing API key
      '404':
        description: Tenant not found
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  example: Tenant not found
                message:
                  type: string
                  example: The specified tenant_id does not exist or you don't have access to it
      '422':
        description: Invalid parameters
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  example: Invalid parameters
                message:
                  type: string
                  example: Missing required parameter tenant_id
      '5XX':
        description: Internal server error
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  example: Internal server error
                message:
                  type: string
                  example: Failed to fetch sub-tenant IDs