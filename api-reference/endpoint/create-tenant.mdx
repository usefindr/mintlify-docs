---
title: 'Create Tenant'
openapi: 'POST /user/create_tenant'
---

Create a new tenant. If you pass `tenant_id` as a query parameter, that ID will be used. If not provided, the service generates a new `tenant_id` and returns it.

### Query Parameters
- **tenant_id**: Optional string — If provided, will be used as the tenant identifier; otherwise a new one is generated.

### Body Parameters
- **tenant_metadata_schema**: Optional array of objects — Each object should specify a metadata key, type, and whether it is searchable/filterable. Used to define the schema for tenant-level metadata. Example:

```json
[
  {"key": "demo", "type": "text", "searchable": true, "filterable": true},
  {"key": "test", "type": "number", "searchable": true, "filterable": true}
]
```

## Sample Request

```bash
curl --location --request POST 'https://dev.usecortex.ai/user/create_tenant?tenant_id=Hbbyirq3573438_jkz3231' \
  --header 'Authorization: Bearer a65e5691-a6f3-4668-9869-117084b93b28' \
  --header 'Accept: application/json' \
  --header 'Content-Type: application/json' \
  --data '{"metadata_schema":[{"key":"demo","type":"text","searchable":true,"filterable":true},{"key":"test","type":"number","searchable":true,"filterable":true}]}'
```

> **Note:**
> - The `metadata_schema` field in the request body is now required and should be an array of objects, each specifying a metadata key, type, and whether it is searchable/filterable.

## Sample Response

```json
{
  "status": "success",
  "message": "Tenant '99155#$@e2' created successfully.",
  "tenant_id": "B1SlKQ2j2l1aWYLa"
}
```

### Functionality
- Accepts an optional `tenant_id` via query
- Generates a new `tenant_id` if none is provided
- Creates and persists the tenant
- Returns the final `tenant_id` and a confirmation message

> Note: If your use case is to directly upload and search embeddings (without document/text ingestion), use the dedicated embeddings-tenant endpoint instead: `/embeddings/create_embeddings_tenant`. This sets `sub_tenant_id = tenant_id` and prepares the tenant for embeddings-first workloads.

### Error Responses
- **401 Unauthorized**: Invalid or missing API key
- **409 Conflict**: Tenant already exists (when a provided `tenant_id` is already in use)
- **5XX Server Error**: Internal server error


