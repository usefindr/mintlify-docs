---
title: 'Scrape Webpage'
openapi: 'POST /upload/scrape_webpage'
---

import { TableOfContents } from '/snippets/table-of-contents.jsx'

<Panel>
  <TableOfContents />
</Panel>

Scrape and process webpage content directly from a URL. The webpage will be scraped, processed, chunked, and indexed for search and retrieval.

## Webpage Scraping & Processing Pipeline

When you scrape a webpage, it goes through a specialized processing pipeline designed for web content:

### 1. **Immediate URL Processing & Queue**
- Your webpage URL is immediately accepted and validated
- The URL is added to our scraping queue for background processing
- You receive a confirmation response with a `file_id` for tracking

### 2. **Web Scraping Phase**
Our system automatically handles:
- **URL Validation**: Ensuring the URL is accessible and valid
- **Content Scraping**: Extracting text, HTML, and metadata from the webpage
- **Structure Analysis**: Understanding page layout, headers, and content hierarchy
- **Link Extraction**: Identifying and processing internal and external links

### 3. **Content Processing & Cleaning**
- **HTML Parsing**: Converting HTML to clean, structured text
- **Content Filtering**: Removing navigation, ads, and irrelevant content
- **Text Normalization**: Cleaning and standardizing web content
- **Language Detection**: Identifying the webpage's language for optimal processing

### 4. **Intelligent Chunking**
- Web content is split into semantically meaningful chunks
- Chunk size is optimized for both context preservation and search accuracy
- Overlapping boundaries ensure no information is lost between chunks
- Metadata is preserved and associated with each chunk

### 5. **Embedding Generation**
- Each chunk is converted into high-dimensional vector embeddings
- Embeddings capture semantic meaning and context
- Vectors are optimized for similarity search and retrieval

### 6. **Indexing & Database Updates**
- Embeddings are stored in our vector database for fast similarity search
- Full-text search indexes are created for keyword-based queries
- Metadata is indexed for filtering and faceted search
- Cross-references are established for related web content

### 7. **Quality Assurance**
- Automated quality checks ensure scraping accuracy
- Content validation verifies extracted text completeness
- Embedding quality is assessed for optimal retrieval performance

<Note>
**Processing Time**: Webpage scraping and processing typically takes 2-5 minutes. Complex pages with heavy content may take up to 10 minutes. You can check processing status using the document ID returned in the response.
</Note>

<Note>
**Default Sub-Tenant Behavior**: If you don't specify a `sub_tenant_id`, the webpage content will be uploaded to the default sub-tenant created when your tenant was set up. This is perfect for organization-wide web content that should be accessible across all departments.
</Note>

> **File ID Management**: When you provide a `file_id` as a key in the `document_metadata` object, that specific ID will be used to identify your content. If no `file_id` is provided in the `document_metadata`, the system will automatically generate a unique identifier for you. This allows you to maintain consistent references to your content across your application while ensuring every piece of content has a unique identifier.


## Error Responses

All endpoints return consistent error responses following the standard format. For detailed error information, see our [Error Responses](/api-reference/error-responses) documentation.

### Common Error Scenarios

**400 Bad Request**: Invalid input parameters or malformed requests
```json
{
  "detail": {
    "success": false,
    "message": "Invalid request parameters",
    "error_code": "INVALID_PARAMETERS"
  }
}
```

**401 Unauthorized**: Invalid or missing API key
```json
{
  "detail": {
    "success": false,
    "message": "Authentication required",
    "error_code": "UNAUTHORIZED"
  }
}
```

**403 Forbidden**: Valid authentication but insufficient permissions
```json
{
  "detail": {
    "success": false,
    "message": "Access denied",
    "error_code": "FORBIDDEN"
  }
}
```

**404 Not Found**: Requested resource does not exist
```json
{
  "detail": {
    "success": false,
    "message": "Resource not found",
    "error_code": "NOT_FOUND"
  }
}
```

**409 Conflict**: Resource already exists or conflicts with existing data
```json
{
  "detail": {
    "success": false,
    "message": "Resource already exists",
    "error_code": "CONFLICT"
  }
}
```

**422 Unprocessable Entity**: Request is well-formed but contains semantic errors
```json
{
  "detail": {
    "success": false,
    "message": "Validation failed",
    "error_code": "VALIDATION_ERROR"
  }
}
```

**500 Internal Server Error**: Unexpected server-side error
```json
{
  "detail": {
    "success": false,
    "message": "Internal server error",
    "error_code": "INTERNAL_ERROR"
  }
}
```

<Note>
**Error Handling**: Always check the `detail` object in error responses for the actual error information. The outer structure may vary, but the `detail` object always follows the standard format.
</Note>
