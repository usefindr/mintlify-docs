---
title: 'Filter Raw Embeddings'
openapi: 'POST /embeddings/retrieve_by_ids'
---

import { TableOfContents } from '/snippets/table-of-contents.jsx'
import TryIt from '/snippets/try-it.mdx'

<Panel>
  <TableOfContents />
</Panel>
<TryIt />
### Examples

<Tabs>
  <Tab title="API Request">
    ```bash
    curl --request POST \
      --url https://api.usecortex.ai/embeddings/retrieve_by_ids \
      --header 'Authorization: Bearer <token>' \
      --header 'Content-Type: application/json' \
      --data '{
      "chunk_ids": [],
      "tenant_id": "tenant_1234",
      "sub_tenant_id": "sub_tenant_4567"
    }'
      ```
  </Tab>
  <Tab title="TypeScript">
    ```ts
    const embeddings = await client.embeddings.getByChunkIds({
      tenant_id: "tenant_1234",
      sub_tenant_id: "sub_tenant_4567",
      chunk_ids: ["chunk_001", "chunk_002", "chunk_003"]
    });
    ```
  </Tab>
  <Tab title="Python (Sync)">
    ```python
    # Async usage is similar, just use async_client and await
    embeddings = client.embeddings.get_by_chunk_ids(
        tenant_id="tenant_1234",
        sub_tenant_id="sub_tenant_4567",
        chunk_ids=["chunk_001", "chunk_002", "chunk_003"]
    )
    ```
  </Tab>
</Tabs>

Retrieve embedding vectors for specific chunk IDs that you previously obtained from uploading embeddings or searching.

### Requirements
- **chunk_ids**: Array of valid chunk ID strings (cannot be empty)
- **tenant_id**: Required for multi-tenancy support
- **sub_tenant_id**: Optional, defaults to tenant_id if not provided

### Response Details
- **embeddings**: Dictionary mapping chunk IDs to their embedding vectors
- **not_found_chunk_ids**: Array of chunk IDs that were not found in the system


## Sample Response

```json
{
  "embeddings": {
    "CortexEmbeddings123_0": [
      21.0,
      22.0,
      23.0,
      24.0,
      25.0,
      26.0
    ],
    "CortexEmbeddings123_1": [
      20.100000381469727,
      20.200000762939453,
      20.299999237060547,
      20.399999618530273,
      20.5,
      20.600000381469727
    ],
    "CortexEmbeddings456_0": [
      1.5,
      2.5,
      8.5,
      8.5,
      8.5,
      6.5
    ]
  },
  "not_found_chunk_ids": [
    "CortexEmbeddings789_2"
  ]
}
```

## Error Responses

All endpoints return consistent error responses following the standard format. For detailed error information, see our [Error Responses](/api-reference/error-responses) documentation.

