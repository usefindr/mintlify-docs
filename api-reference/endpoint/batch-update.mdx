---
title: 'Batch Update'
openapi: 'PATCH /upload/batch_update'
---
If a `source_id` (in the provided `source_ids[]`) does not exist, a new entry with that source ID will be created. This endpoint essentially performs an upsert operation.
> Provide one `source_id` per file. The number of `source_id`s must match the number of files.

## Sample Request

```bash
curl --location --request PATCH 'https://api.usecortex.ai/upload/batch_update?tenant_id={TENANT_ID}&sub_tenant_id={SUB_TENANT_ID}' \
--header 'accept: application/json' \
--header 'Authorization: Bearer {API_KEY}' \
--form 'files=@{FILE1}' \
--form 'files=@{FILE2}' \
--form 'source_ids={SOURCE_ID_1}' \
--form 'source_ids={SOURCE_ID_2}' \
--form 'tenant_metadata="[{\"department\":\"Finance\"}]"' \
{/* --form 'document_metadata="[{\"title\":\"Q1 Report.pdf\"}]"' */}
```

