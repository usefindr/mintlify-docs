---
title: 'Generate User Memory'
openapi: 'POST /user_memory/generate_user_memory'
---

import { TableOfContents } from '/snippets/table-of-contents.jsx'
import TryIt from '/snippets/try-it.mdx'

<Panel>
  <TableOfContents />
</Panel>
<TryIt />
### Examples

<Tabs>
  <Tab title="API Request">
    ```bash
    curl --request POST \
      --url 'https://api.usecortex.ai/user_memory/generate_user_memory?tenant_id=tenant_1234&sub_tenant_id=sub_tenant_4567' \
      --header 'Authorization: Bearer YOUR_API_KEY' \
      --header 'Content-Type: application/json' \
      --data '{
      "user_message": "<string>",
      "user_name": "<string>"
    }'
      ```
  </Tab>
  <Tab title="TypeScript">
    ```ts
    const generatedMemory = await client.userMemory.generateUserMemory({
      tenant_id: "tenant_1234",
      sub_tenant_id: "sub_tenant_4567",
      user_id: "user_123",
      context: "User mentioned they work with Python and prefer REST APIs over GraphQL"
    });
    ```
  </Tab>
  <Tab title="Python (Sync)">
    ```python
    # Async usage is similar, just use async_client and await
    generated_memory = client.user_memory.generate_user_memory(
        tenant_id="tenant_1234",
        sub_tenant_id="sub_tenant_4567",
        user_id="user_123",
        context="User mentioned they work with Python and prefer REST APIs over GraphQL"
    )
    ```
  </Tab>
</Tabs>

## Overview

The Generate User Memory endpoint is the most sophisticated user memory endpoint that automatically creates and stores multiple user memories based on a user message. It combines AI-powered message processing, intelligent memory generation, and automatic storage to build a comprehensive memory network for each user.

## What Makes This API Special?

This API goes beyond simple memory storage by:
- **AI-Powered Analysis**: Uses advanced AI to analyze user messages and extract meaningful insights
- **Multiple Memory Generation**: Creates several related memories from a single message
- **Automatic Storage**: Stores all generated memories without requiring separate API calls
- **Memory Network Building**: Creates interconnected memories that form a "second brain" for the user
- **Contextual Understanding**: Generates memories that are contextually relevant and useful for future interactions

## Functionality

- **Intelligent Message Processing**: Analyzes user messages to understand intent and extract key information
- **Multi-Memory Generation**: Creates multiple related memories from a single message
- **Automatic Vector Storage**: Stores all generated memories in the vector database for semantic retrieval
- **User Context Integration**: Incorporates user name and context for personalized memory generation
- **Tenant Isolation**: Ensures all generated memories are properly isolated by tenant and sub-tenant
- **Automatic Provisioning**: Provisions tenant/sub-tenant for user memory if not already set up

## Use Cases

- **Conversation Analysis**: Generate memories from user conversations or chat logs
- **Document Processing**: Extract key insights from user-uploaded documents
- **Meeting Notes**: Convert meeting transcripts into structured user memories
- **Feedback Processing**: Transform user feedback into actionable memory insights
- **Learning Path Creation**: Generate memories that help track user learning progress

### Advanced Usage: Meeting Notes Processing

```bash
curl -X POST "https://api.usecortex.ai/user_memory/generate_user_memory" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "tenant_id": "company_123",
    "sub_tenant_id": "product_team",
    "user_message": "In today's product meeting, Sarah mentioned she's concerned about user onboarding complexity. She suggested we implement a guided tutorial and reduce the number of required fields in the signup form. The team agreed to prioritize this for the next sprint.",
    "user_name": "Sarah Johnson"
  }'
```

## Important Notes

<Warning>
**Automatic Tenant Provisioning**: If you receive an error stating "Tenant-id/sub-tenant-id combination either does not exist or is not provisioned for user memory", this means the tenant/sub-tenant combination hasn't been set up for user memory functionality yet. This will be automatically provisioned when you generate your first user memory for this combination.
</Warning>

<Note>
**Memory Quality**: The quality of generated memories depends on the clarity and detail of the input message. Provide rich, contextual information for best results.
</Note>

<Info>
**Best Practices**:
- Use detailed, contextual messages for better memory generation
- Include relevant background information in your messages
- Consider breaking complex topics into multiple focused messages
- Review generated memories to ensure they capture the intended insights
- Use this API for processing longer text inputs like documents or conversations
</Info>

<Tip>
**Pro Tip**: This API is particularly powerful when processing user feedback, meeting notes, or any text that contains multiple insights about a user's preferences, experiences, or context.
</Tip>


## Error Responses

All endpoints return consistent error responses following the standard format. For detailed error information, see our [Error Responses](/api-reference/error-responses) documentation.

