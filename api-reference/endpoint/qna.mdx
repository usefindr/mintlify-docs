---
title: 'QnA'
openapi: 'POST /search/qna'
---

Ask a question based on uploaded documents or sessions.

## Sample Request

```bash
curl --location 'https://api.usecortex.ai/search/qna' \
  --header 'Authorization: Bearer {API_KEY}' \
  --header 'accept: application/json' \
  --header 'Content-Type: application/json' \
  --data '{
    "question": "{QUESTION}",
    "session_id": "{SESSION_ID}",
    "tenant_id": "{TENANT_ID}",
    "sub_tenant_id": "{SUB_TENANT_ID}",
    "stream": {STREAM},
    "context_list": {CONTEXT_LIST},
    "search_modes": {SEARCH_MODES},
    "top_n": {TOP_N},
    "ai_generation": {AI_GENERATION},
    "highlight_chunks": {HIGHLIGHT_CHUNKS},
    "search_alpha": {SEARCH_ALPHA},
    "recency_bias": {RECENCY_BIAS},
    "multi_step_reasoning": {MULTI_STEP_REASONING},
    "user_name": "{USER_NAME}",
    "user_instructions": "{USER_INSTRUCTIONS}",
    "auto_agent_routing": {AUTO_AGENT_ROUTING},
    "metadata": {"source_title": "<optional title>", "source_type": "<optional type>"}
  }'
```

### 🔐 Headers
- `Authorization`: Bearer token
- `accept`: application/json
- `Content-Type`: application/json

### 🧾 Body Parameters
- `question` (string, required): The user query
- `user_name` (string, optional): User name
- `user_instructions` (string, optional): Accept custom, specific instructions from the user
- `session_id` (string, required): Chat session ID
- `tenant_id` (string, required): Tenant identifier
- `sub_tenant_id` (string, optional): Sub-tenant identifier
- `stream` (boolean, optional): Enable streaming
- `context_list` (list of strings, optional): List of document IDs
- `search_modes` (list of strings, optional): e.g., 'creative', 'web'
- `top_n` (number, optional): Number of results to return
- `ai_generation` (boolean, optional): Enable AI answer generation
- `highlight_chunks` (boolean, optional): Return source chunks
- `search_alpha` (float, optional): Weight for semantic match
- `recency_bias` (float, optional): Recency preference
- `multi_step_reasoning` (boolean, optional): If enabled, the system will automatically activate multi-step search for complex queries. If set to false, auto-enabling of multi-step search is disabled, and only single-step search will be used regardless of query complexity.
- `auto_agent_routing` (boolean, optional, default: true): If true, enables routing for choosing the best suitable agent automatically; if false, the answer is generated from the default model
- `metadata` (object, optional): Filter context to only sources matching the provided metadata. **Allowed keys:** `source_title`, `source_type`. For example, `{ "source_title": "contract.pdf", "source_type": "document" }` will restrict the context to sources with that title and/or type. 

> **Important Note:** Cortex internally relies on the `metadata` field for source matching. You should use this field when you want to deterministically fetch specific documents based on their metadata.
